<script type="text/javascript">
  $(document).ready(function () {

    $("#member_add").click(function (e) {
      e.preventDefault();
      console.log("member add clicked");
      appendMemberForm();
      $("#member_add").hide();
    });

    $("#member_cancel").click(function (e) {
      console.log("member cancel clicked");
      $("#member_form").hide();
      $("#member_add").show();
    });

    function appendMemberForm() {
      $("#member_form").append(
        `<form method="post">
      {% csrf_token %}
      <div class="form-group row">
        <input
          type="hidden"
          value="family-member"
          name="family-member"
          id="family-member"
        />

        <label for="name" class="col-sm-2 col-form-label">Name</label>
        <div class="col-sm-10">
          <input
            type="text"
            class="form-control"
            id="name"
            name="name"
            placeholder="Enter name"
          />
        </div>
      </div>
      <div class="form-group row">
        <label for="relation" class="col-sm-2 col-form-label">Relation</label>
        <div class="col-sm-10">
          <input
            type="text"
            class="form-control"
            id="relation"
            name="relation"
            placeholder="Enter relation"
          />
        </div>
      </div>
      <div class="form-group row">
        <label for="age" class="col-sm-2 col-form-label">Age</label>
        <div class="col-sm-10">
          <input
            type="text"
            class="form-control"
            id="age"
            name="age"
            placeholder="Enter age"
          />
        </div>
      </div>
      <div class="form-group row">
        <label for="occupation" class="col-sm-2 col-form-label"
          >Occupation</label
        >
        <div class="col-sm-10">
          <input
            type="text"
            class="form-control"
            id="occupation"
            name="occupation"
            placeholder="Enter occupation"
          />
        </div>
      </div>
      <div class="form-group row">
        <label for="phone" class="col-sm-2 col-form-label">Phone</label>
        <div class="col-sm-10">
          <input
            type="text"
            class="form-control"
            id="phone"
            name="phone"
            placeholder="Enter phone number"
          />
        </div>
      </div>
      <div class="form-group row">
        <div class="col-sm-10 offset-sm-2">
          <button type="submit" id="member_submit" class="btn btn-primary">
            Submit
          </button>
          <a href='{% url 'cancel'%}' class='btn btn-danger'>Cancel</a>
        </div>
      </div>
    </form>`
      );
    }
  });
</script>
